<?xml version="1.0" encoding="UTF-8"?>
<project name="Osee Server Build Tasks" default="build" basedir=".">
	<!-- this ant file is assumed to be located at <workspace>\org.eclipse.osee.support.build\support, basedir will be the same -->

	<import file="${basedir}/osee_common_build.xml" />

	<target name="build">
		<property name="buildId" value="oseeServer" />
		<property name="forceContextQualifier" value="201001041027" />
		<property name="filteredDependencyCheck" value="true" />
		<property name="topLevelElementId" value="org.eclipse.osee.framework.server.feature" />
		<property name="postBuildFile"  value="${ant.file}" />
		<property name="postBuildTarget"  value="postBuild" />

		<antcall target="PdeBuild" />
	</target>

	<target name="postBuild">
		<copy file="${basedir}/config.ini" todir="${buildDirectory}/buildRepo/configuration/" />
		<copy file="${basedir}/start_osee_app_server" tofile="${buildDirectory}/buildRepo/start_osee_app_server${execext}"/>
		
		<move tofile="${buildDirectory}/buildRepo/org.eclipse.osgi.jar">
			<fileset dir="${buildDirectory}/buildRepo/plugins/">
				<include name="org.eclipse.osgi_*.jar"/>
			</fileset>
		</move>
	</target>
</project>

<!--
eclipsec -application org.eclipse.ant.core.antRunner -buildfile c:\UserData\workspace\org.eclipse.osee.support.build\support\osee_server_build.xml
-->